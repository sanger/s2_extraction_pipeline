{
  "default":{
    "description":"starting point",
    "calls":[
      {
        "description":"get a tube by uuid",
        "method":"get",
        "url":"/tube1_UUID",
        "request":null,
        "response":{
          "tube":{
            "actions":{
              "read":"http://localhost:9292/tube1_UUID",
              "create":"http://localhost:9292/tube1_UUID",
              "update":"http://localhost:9292/tube1_UUID",
              "delete":"http://localhost:9292/tube1_UUID"
            },
            "uuid":"tube1_UUID",
            "type":null,
            "max_volume":null,
            "aliquots":[
              {
                "sample":{
                  "actions":{
                    "read":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "create":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "update":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "delete":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2"
                  },
                  "uuid":"472fc450-68ac-0130-7ac8-282066132de2",
                  "name":"sample_0"
                },
                "quantity":1000,
                "type":"NA+P",
                "unit":"mole"
              }
            ],
            "labels":{
              "actions":{
                "read":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "create":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "update":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "delete":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2"
              },
              "uuid":"3bcf91e0-68ac-0130-9163-282066132de2",
              "barcode":{
                "value":"1000000001",
                "type":"ean13-barcode"
              }
            }
          }
        }
      },
      {
        "description":"get a tube by uuid",
        "method":"get",
        "url":"/tube2_UUID",
        "request":null,
        "response":{
          "tube":{
            "actions":{
              "read":"http://localhost:9292/tube2_UUID",
              "create":"http://localhost:9292/tube2_UUID",
              "update":"http://localhost:9292/tube2_UUID",
              "delete":"http://localhost:9292/tube2_UUID"
            },
            "uuid":"tube2_UUID",
            "type":null,
            "max_volume":null,
            "aliquots":[
              {
                "sample":{
                  "actions":{
                    "read":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "create":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "update":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                    "delete":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2"
                  },
                  "uuid":"472fc450-68ac-0130-7ac8-282066132de2",
                  "name":"sample_0"
                },
                "quantity":1000,
                "type":"NA+P",
                "unit":"mole"
              }
            ],
            "labels":{
              "actions":{
                "read":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "create":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "update":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                "delete":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2"
              },
              "uuid":"3bcf91e0-68ac-0130-9163-282066132de2",
              "barcode":{
                "value":"1000000001",
                "type":"ean13-barcode"
              }
            }
          }
        }
      },
      {
        "description":"Find the tubes by barcodes for tube 1...",
        "method":"post",
        "url":"/searches",
        "request":{
          "search":{
            "user":"username",
            "description":"search for barcoded tube",
            "model":"tube",
            "criteria":{
              "label":{
                "position":"barcode",
                "type":"ean13-barcode",
                "value":"1000000001"
              }
            }
          }
        },
        "response":{
          "search":{
            "actions":{
              "read":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2",
              "first":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
              "last":"http://localhost:9292/46ff7c00-68ac-0130-7ac8-282066132de2/page=-1"
            },
            "uuid":"46ff7c00-68ac-0130-7ac8-282066132de2"
          }
        }
      },
      {
        "description":"Get the search results (tubes 1)",
        "method":"get",
        "url":"/46ff7c00-68ac-0130-7ac8-282066132de2/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/tubes/page=1",
            "first":"http://localhost:9292/tubes/page=1",
            "last":"http://localhost:9292/tubes/page=-1"
          },
          "size":1,
          "tubes":[
            {
              "actions":{
                "read":"http://localhost:9292/tube1_UUID",
                "create":"http://localhost:9292/tube1_UUID",
                "update":"http://localhost:9292/tube1_UUID",
                "delete":"http://localhost:9292/tube1_UUID"
              },
              "uuid":"tube1_UUID",
              "type":null,
              "max_volume":null,
              "aliquots":[
                {
                  "sample":{
                    "actions":{
                      "read":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "create":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "update":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2",
                      "delete":"http://localhost:9292/472fc450-68ac-0130-7ac8-282066132de2"
                    },
                    "uuid":"472fc450-68ac-0130-7ac8-282066132de2",
                    "name":"sample_0"
                  },
                  "quantity":1000,
                  "type":"NA+P",
                  "unit":"mole"
                }
              ],
              "labels":{
                "actions":{
                  "read":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bcf91e0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bcf91e0-68ac-0130-9163-282066132de2",
                "barcode":{
                  "value":"1000000001",
                  "type":"ean13-barcode"
                }
              }
            }
          ]
        }
      },
      {
        "description":"Find the order by tube uuid",
        "method":"post",
        "url":"/searches",
        "request":{
          "search":{
            "user":"username",
            "description":"search for order",
            "model":"order",
            "criteria":{
              "item":{
                "uuid":"tube1_UUID"
              }
            }
          }
        },
        "response":{
          "search":{
            "actions":{
              "read":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2",
              "first":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=1",
              "last":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=-1"
            },
            "uuid":"473203b0-68ac-0130-7ac8-282066132de2"
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/473203b0-68ac-0130-7ac8-282066132de2/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce8620-68ac-0130-9163-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":null
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ]
              }

            }
          ]
        }
      },
      {
        "description":"Returns an order",
        "method":"get",
        "url":"/order1_UUID",
        "request":null,
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"in_progress",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
                "create":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
                "update":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2",
                "delete":"http://localhost:9292/25e5bab0-67b1-0130-915d-282066132de2"
              },
              "uuid":"25e5bab0-67b1-0130-915d-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
                "create":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
                "update":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2",
                "delete":"http://localhost:9292/25e5cbd0-67b1-0130-915d-282066132de2"
              },
              "uuid":"25e5cbd0-67b1-0130-915d-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":null
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ]
            }
          }
        }
      },
      {
        "description":"Create a new batch",
        "method":"post",
        "next_stage":"after_post_created_batch",
        "url":"/batches",
        "request":{
          "batch":{
            "user":"username"
          }
        },
        "response":{
          "batch":{
            "actions":{
              "read":"http://localhost:9292/batch1_UUID",
              "create":"http://localhost:9292/batch1_UUID",
              "update":"http://localhost:9292/batch1_UUID",
              "delete":"http://localhost:9292/batch1_UUID"
            },
            "uuid":"batch1_UUID",
            "process":null
          }
        }
      }
    ]
  },

  "after_post_created_batch":{
    "description":"creating the batch",
    "calls":[
      {
        "description":"Find the order by tube uuid",
        "method":"post",
        "url":"/searches",
        "request":{
          "search":{
            "user":"username",
            "description":"search for order",
            "model":"order",
            "criteria":{
              "item":{
                "uuid":"tube1_UUID"
              }
            }
          }
        },
        "response":{
          "search":{
            "actions":{
              "read":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2",
              "first":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=1",
              "last":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=-1"
            },
            "uuid":"473203b0-68ac-0130-7ac8-282066132de2"
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/473203b0-68ac-0130-7ac8-282066132de2/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce8620-68ac-0130-9163-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch1_UUID",
                        "create":"http://localhost:9292/batch1_UUID",
                        "update":"http://localhost:9292/batch1_UUID",
                        "delete":"http://localhost:9292/batch1_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ]
              }

            }
          ]
        }
      },
      {
        "description":"Get the order",
        "method":"get",
        "url":"/order1_UUID",
        "request":null,
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ]
            }
          }
        }
      },
      {
        "description":"Find the order by batch UUID",
        "method":     "post",
        "url":        "/searches",
        "request":    {
          "search":{
            "user":       "username",
            "description":"search order by batch",
            "model":      "order",
            "criteria":   {
              "item":{
                "batch":"batch1_UUID"
              }
            }
          }
        },
        "response":   {
          "search":{
            "actions":{
              "read": "http://localhost:9292/searchForOrderWithBatchUUID",
              "first":"http://localhost:9292/searchForOrderWithBatchUUID/page=1",
              "last": "http://localhost:9292/searchForOrderWithBatchUUID/page=-1"
            },
            "uuid":   "searchForOrderWithBatchUUID"
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/searchForOrderWithBatchUUID/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce8620-68ac-0130-9163-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch1_UUID",
                        "create":"http://localhost:9292/batch1_UUID",
                        "update":"http://localhost:9292/batch1_UUID",
                        "delete":"http://localhost:9292/batch1_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ]
              }

            }
          ]
        }
      },
      {
        "description":"Assign the batch uuid to the tubes in the order items",
        "method":"put",
        "next_stage":"after_put_added_batch_items",
        "url":"/order1_UUID",
        "request":{
          "user":"username",
          "items":{
            "samples.extraction.manual.dna_and_rna.input_tube_nap":{
              "tube1_UUID":{
                "batch_uuid":"batch1_UUID"
              }
            }
          }
        },
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ]
            }
          }
        }
      }
    ]
  },

  "after_put_added_batch_items":{
    "description":"adding the batch to the items",
    "calls":[
      {
        "description":"Find the order by tube uuid",
        "method":"post",
        "url":"/searches",
        "request":{
          "search":{
            "user":"username",
            "description":"search for order",
            "model":"order",
            "criteria":{
              "item":{
                "uuid":"tube1_UUID"
              }
            }
          }
        },
        "response":{
          "search":{
            "actions":{
              "read":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2",
              "first":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=1",
              "last":"http://localhost:9292/473203b0-68ac-0130-7ac8-282066132de2/page=-1"
            },
            "uuid":"473203b0-68ac-0130-7ac8-282066132de2"
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/473203b0-68ac-0130-7ac8-282066132de2/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
                },
                "uuid":"4381dbe0-738b-0130-e198-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
                },
                "uuid":"4381e960-738b-0130-e198-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "description":"Get the order",
        "method":"get",
        "url":"/order1_UUID",
        "request":null,
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ]
            }
          }
        }
      },
      {
        "description":"Find the order by batch UUID",
        "method":     "post",
        "url":        "/searches",
        "request":    {
          "search":{
            "user":       "username",
            "description":"search order by batch",
            "model":      "order",
            "criteria":   {
              "item":{
                "batch":"batch1_UUID"
              }
            }
          }
        },
        "response":   {
          "search":{
            "actions":{
              "read": "http://localhost:9292/searchForOrderWithBatchUUID",
              "first":"http://localhost:9292/searchForOrderWithBatchUUID/page=1",
              "last": "http://localhost:9292/searchForOrderWithBatchUUID/page=-1"
            },
            "uuid":   "searchForOrderWithBatchUUID"
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/searchForOrderWithBatchUUID/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce8620-68ac-0130-9163-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "description":"Add roles to items",
        "method":"put",
        "next_stage":"after_put_added_roles_items",
        "url":"/order1_UUID",
        "request":{
          "user":"username",
          "items":{
            "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":{
              "tube1_UUID":{
                "event":"start",
                "batch_uuid":"batch1_UUID"
              }
            }
          }
        },
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ],
              "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"in_progress",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                }
              ]
            }
          }
        }
      }
    ]
  },

  "after_put_added_roles_items":{
    "description":"updating roles",
    "calls":[
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/473203b0-68ac-0130-7ac8-282066132de2/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                  "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
                },
                "uuid":"4381dbe0-738b-0130-e198-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                  "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
                },
                "uuid":"4381e960-738b-0130-e198-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ],
                "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"in_progress",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "description":"Get the order",
        "method":"get",
        "url":"/order1_UUID",
        "request":null,
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ],
              "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"in_progress",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                }
              ]
            }
          }
        }
      },
      {
        "description":"Get the search results (order)",
        "method":"get",
        "url":"/searchForOrderWithBatchUUID/page=1",
        "request":null,
        "response":{
          "actions":{
            "read":"http://localhost:9292/orders/page=1",
            "first":"http://localhost:9292/orders/page=1",
            "last":"http://localhost:9292/orders/page=-1"
          },
          "size":1,
          "orders":[
            {
              "actions":{
                "read":"http://localhost:9292/order1_UUID",
                "create":"http://localhost:9292/order1_UUID",
                "update":"http://localhost:9292/order1_UUID",
                "delete":"http://localhost:9292/order1_UUID"
              },
              "uuid":"order1_UUID",
              "pipeline":"DNA+RNA manual extraction",
              "status":"draft",
              "parameters":{},
              "state":{},
              "cost_code":"cost code",
              "creator":{
                "actions":{
                  "read":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce77b0-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce77b0-68ac-0130-9163-282066132de2"
              },
              "study":{
                "actions":{
                  "read":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "create":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "update":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2",
                  "delete":"http://localhost:9292/3bce8620-68ac-0130-9163-282066132de2"
                },
                "uuid":"3bce8620-68ac-0130-9163-282066132de2"
              },
              "items":{
                "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"done",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  },
                  {
                    "uuid":"tube2_UUID",
                    "status":"done",
                    "batch":null
                  }
                ],
                "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":[
                  {
                    "uuid":"tube1_UUID",
                    "status":"in_progress",
                    "batch":{
                      "actions":{
                        "read":"http://localhost:9292/batch_UUID",
                        "create":"http://localhost:9292/batch_UUID",
                        "update":"http://localhost:9292/batch_UUID",
                        "delete":"http://localhost:9292/batch_UUID"
                      },
                      "uuid":"batch1_UUID",
                      "process":null
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "description":"Add roles to items",
        "method":"put",
        "next_stage":"after_put_added_roles_items",
        "url":"/order1_UUID",
        "request":{
          "user":"username",
          "items":{
            "samples.extraction.manual.dna_and_rna.input_tube_nap":{
              "tube1_UUID":{
                "event":"unuse"
              }
            },
            "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":{
              "tube1_UUID":{
                "event":"complete"
              }
            }
          }
        },
        "response":{
          "order":{
            "actions":{
              "read":"http://localhost:9292/order1_UUID",
              "create":"http://localhost:9292/order1_UUID",
              "update":"http://localhost:9292/order1_UUID",
              "delete":"http://localhost:9292/order1_UUID"
            },
            "uuid":"order1_UUID",
            "pipeline":"DNA+RNA manual extraction",
            "status":"draft",
            "parameters":{},
            "state":{},
            "cost_code":"cost code",
            "creator":{
              "actions":{
                "read":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381dbe0-738b-0130-e198-282066132de2"
              },
              "uuid":"4381dbe0-738b-0130-e198-282066132de2"
            },
            "study":{
              "actions":{
                "read":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "create":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "update":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2",
                "delete":"http://localhost:9292/4381e960-738b-0130-e198-282066132de2"
              },
              "uuid":"4381e960-738b-0130-e198-282066132de2"
            },
            "items":{
              "samples.extraction.manual.dna_and_rna.input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"unused",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                },
                {
                  "uuid":"tube2_UUID",
                  "status":"done",
                  "batch":null
                }
              ],
              "samples.extraction.manual.dna_and_rna.binding_input_tube_nap":[
                {
                  "uuid":"tube1_UUID",
                  "status":"done",
                  "batch":{
                    "actions":{
                      "read":"http://localhost:9292/batch_UUID",
                      "create":"http://localhost:9292/batch_UUID",
                      "update":"http://localhost:9292/batch_UUID",
                      "delete":"http://localhost:9292/batch_UUID"
                    },
                    "uuid":"batch1_UUID",
                    "process":null
                  }
                }
              ]
            }
          }
        }
      }
    ]
  }


}

